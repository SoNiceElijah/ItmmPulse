{"version":3,"sources":["pages/chat.js","login.js","load.js","register.js","pages/components/overlay.js","pages/progress.js","pages/components/bricks/message.js","pages/components/messagepanel.js","page.js","app.js","index.js","utils/help.js"],"names":["colseLongPoll","axios","require","help","Login","prop","state","itloginStyle","itpasswordStyle","data","validate","document","console","log","errors","length","post","username","itlogin","password","itpassword","then","e","cookie","token","window","location","reload","catch","getElementById","innerHTML","i","this","setState","target","id","className","onChange","reset","type","name","placeholder","onClick","signIn","props","toReg","React","Component","Load","Register","class","user","pw1","pw2","info","msg","newStyle","login","val","styles","toLogin","noColor","register","Overlay","modeStyle","alertStyle","ok","okAction","cancelAction","dismiss","InProgress","MessageItem","_id","setTimeout","classList","remove","emoji","match","path","slice","replace","me","anim","style","background","color","from","toUpperCase","dangerouslySetInnerHTML","__html","time","date","MessagePanel","messages","clicks","componentDidUpdate","bind","getHistory","messageArray","rescroll","full","topdiff","onScroll","scrollHandler","msgs","datestr","timeDate","components","push","dateStringComponent","laststr","message","str","key","findUser","uid","prevProps","exists","loader","add","newMsg","news","map","m","mids","concat","filter","indexOf","objDiv","scrollTop","scrollHeight","watch","limit","skip","clientHeight","reverse","notSelected","aLotOfMessages","noMessages","CancelToken","Chat","chats","members","currentChat","currentExist","longpoll","longPoll","openChat","notifications","findUserByid","findChatByid","msgInterval","connection","write","find","componentDidMount","chat","newLongPoll","team_ids","toUTC","Date","title","exist","direct","notifyDiv","clearInterval","removeAttribute","setAttribute","msgBox","fakeBox","value","isEmptyOrSpaces","cid","random","Math","floor","ts","cancelToken","c","newMsgsEvent","chatWriteEvent","newTeamMembersEvent","nums","el","max","apply","content","currentChatWriters","changeWriters","writers","div","join","s","k","param","num","parseInt","Audio","play","j","b","iid","setInterval","v","littleChat","littleMember","input","text","innerText","pushEmoji","src","chatPanel","autoComplete","data-text","onInput","textChangeMonitor","onFocus","focuseGotMonitor","onKeyUp","send","onBlur","focuseLostMonitor","contentEditable","mapEmoji","Page","currentPage","currentButton","pages","hideAlert","overlay","createRef","page","getCookie","menuButtonClicked","currentTarget","current","rise","logOut","pageId","ref","selected","riseLogOutAlert","App","goToLogin","goToPage","goToRegister","err","toPage","amISignedIn","ReactDOM","render","undefined","module","exports","matches","RegExp","decodeURIComponent","ids","utc","getTimezoneOffset","hh","getHours","ss","getMinutes","getTime","dd","getDay","mm","getMonth","yyyy","getFullYear"],"mappings":"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","file":"static/js/main.b7288a08.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport MessagePanel from './components/messagepanel';  \r\n\r\nimport './pages.css';\r\n\r\nconst axios = require('axios');\r\nconst help = require('../utils/help');\r\n\r\nconst CancelToken = axios.CancelToken;\r\nlet colseLongPoll;\r\n\r\nclass Chat extends React.Component {\r\n    \r\n    constructor(prop)    {\r\n        super(prop);\r\n\r\n        this.state = {}\r\n\r\n        this.state.chats = {}\r\n        this.state.chats.chats = []\r\n        this.state.chats.members = []\r\n\r\n        this.state.currentChat = '';\r\n        this.state.currentExist = '';\r\n        this.state.msgs = [];\r\n\r\n        this.state.emoji = [];\r\n\r\n        this.state.longpoll = true;\r\n        \r\n        this.longPoll = this.longPoll.bind(this);\r\n        this.openChat = this.openChat.bind(this);\r\n        this.notifications = this.notifications.bind(this);  \r\n        \r\n        this.findUserByid = this.findUserByid.bind(this);\r\n        this.findChatByid = this.findChatByid.bind(this);\r\n        \r\n        this.state.msgInterval = null;\r\n        this.state.connection = null;\r\n\r\n        this.state.write = false;\r\n    }\r\n\r\n    findUserByid(id) {\r\n\r\n        let user = this.state.chats.members.find(e => e._id === id);\r\n\r\n        if(!user)\r\n        {\r\n            this.componentDidMount(false);\r\n        }\r\n\r\n        return user;\r\n    }\r\n\r\n    findChatByid(id) {\r\n        let chat = this.state.chats.chats.find(e => e._id === id);\r\n\r\n        if(!chat)\r\n        {\r\n            this.componentDidMount(false);\r\n        }\r\n\r\n        return chat;\r\n    }\r\n\r\n    componentDidMount(newLongPoll = true) {\r\n\r\n        axios.post('/api/message/emoji')\r\n            .then((e) => {\r\n                this.state.emoji = e.data;\r\n            });\r\n        //Me and chats\r\n        axios.post('/api/user/me')\r\n            .then((e) => {\r\n                this.state.me = e.data;\r\n\r\n                axios.post('/api/team/info',{\r\n                    id : this.state.me.team_ids[0]\r\n                }).then((e) => {\r\n\r\n                    this.setState({ chats : e.data });\r\n                    console.log(this.state);\r\n\r\n                    let loader = document.getElementById('chatLoader');\r\n                    loader.classList.add('opacity-0');\r\n\r\n                    setTimeout(() => {\r\n                        loader.classList.add('display-none');\r\n                    },200);\r\n\r\n                }).catch((e) => {\r\n                    console.log('WTF');\r\n                    console.log(e);\r\n                })\r\n            })\r\n            .catch((e) => {\r\n                console.log('WTF');\r\n                console.log(e);\r\n            });\r\n\r\n\r\n        if(newLongPoll) {\r\n            console.log('Open longpoll');\r\n            //Long polling\r\n            this.longPoll(help.toUTC(new Date()));\r\n        }\r\n    }\r\n\r\n    littleChat(data) {\r\n        return (\r\n            <div onClick={(e) => {this.openChat(data._id)}} key={'key' + data._id} className=\"chat-list-item\" id={'cid' + data._id}><strong>#</strong><span>{data.name}</span><div id={'cidal' + data._id} className=\"new-message-alert template\">0</div></div>\r\n        );\r\n    }\r\n\r\n    littleMember(data) {\r\n        if(data.me)\r\n            return (\r\n                <div  key={'key' + data._id} className=\"member-list-item\" title=\"Это же я!\" me=\"me\"><strong id=\"me\">@</strong><span id=\"me\">{data.name}</span></div>\r\n            );\r\n        else if(data.exist)\r\n            return (\r\n                <div onClick={(e) => {this.openChat(data.direct)}}  key={'key' + data._id} id={'cid' + data.direct} exist=\"exist\" className=\"member-list-item\"><strong>@</strong><span>{data.name}</span><div id={'cidal' + data.direct} className=\"new-message-alert template\">0</div></div>\r\n            )\r\n        else    \r\n            return (\r\n                <div onClick={(e) => {this.openChat(data._id, false)}} key={'key' + data._id} id={'cid' + data._id} className=\"member-list-item\" ><strong>@</strong><span>{data.name}</span><div id={'cidal' + data._id} className=\"new-message-alert template\">0</div></div>\r\n            )\r\n    }\r\n\r\n    openChat(id, exist = true) {\r\n\r\n        if(this.state.currentChat == id)\r\n            return;\r\n\r\n        let notifyDiv = document.getElementById('cidal' + id);\r\n\r\n        if(notifyDiv.innerHTML != '0') {          \r\n            window.clearInterval(this.state.msgInterval);\r\n            document.title = 'Pulse';\r\n\r\n            notifyDiv.innerHTML = '0';\r\n            notifyDiv.classList.add('template');\r\n        }       \r\n\r\n        if(this.state.currentChat != '')\r\n            document.getElementById('cid' + this.state.currentChat).removeAttribute('selected');\r\n\r\n        document.getElementById('cid' + id).setAttribute('selected','selected');\r\n        \r\n        this.setState({\r\n            currentChat : id,\r\n            currentExist : exist\r\n        });\r\n\r\n\r\n    }\r\n\r\n    send() {\r\n\r\n        console.log('try send');\r\n\r\n        if(this.state.currentChat == '')\r\n            return;\r\n\r\n        let msgBox = document.getElementById('msg');\r\n        let fakeBox = document.getElementById('fake_msg');\r\n        if(!msgBox)\r\n            return;\r\n\r\n        let msg = msgBox.value;\r\n        if(help.isEmptyOrSpaces(msg))\r\n            return;\r\n\r\n        let data = {};\r\n\r\n        data.msg = msg;\r\n        data.cid = this.state.currentChat;\r\n        data.random = Math.floor(Math.random() * 1000);\r\n\r\n        msgBox.value = '';\r\n        fakeBox.innerHTML = '';\r\n\r\n        if(!this.state.currentExist)\r\n        {\r\n            axios.post('/api/message/whisper',data)\r\n                .then((e) => {\r\n                    msgBox.value = '';\r\n                    fakeBox.innerHTML = '';\r\n                    this.componentDidMount(false);\r\n\r\n                    this.setState({\r\n                        currentChat : e.data.id,\r\n                        currentExist : true\r\n                    });\r\n                })\r\n                .catch((e) => {\r\n                    console.log('WTF');\r\n                    console.log(e);\r\n                })\r\n        }\r\n        else\r\n        {\r\n            axios.post('/api/chat/writing',{\r\n                id : data.cid,\r\n                state : false\r\n            });\r\n            this.state.write = false;\r\n            axios.post('/api/message/send',data)\r\n                .then((e) => {\r\n                    \r\n                })\r\n                .catch((e) => {\r\n                    console.log('WTF');\r\n                    console.log(e);\r\n                })\r\n        }\r\n        \r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.state.longpoll = false;\r\n\r\n        if(colseLongPoll)\r\n            colseLongPoll();\r\n        console.log('unmount');\r\n    }\r\n\r\n    longPoll(ts) {\r\n        console.log(`LongPollCalled with TS: ${ts}`);\r\n        axios.post('/api/message/updates',{\r\n            ts : ts\r\n        }, {\r\n            cancelToken : new CancelToken((c) =>{\r\n                colseLongPoll = c;\r\n            })\r\n        }).then((e) => {\r\n            console.log('LONG_POLL_DATA:');\r\n            console.log(e.data);\r\n\r\n            let newMsgsEvent = e.data.find(e => e.type == 'msg');\r\n            let chatWriteEvent = e.data.find(e => e.type == 'write');\r\n            let newTeamMembersEvent = e.data.find(e => e.type == 'new');\r\n           \r\n            if(this.state.longpoll) {   \r\n\r\n                if(e.data.length == 1 && e.data[0].type == 'restart') {\r\n                    console.log('LongPollRestarted');\r\n                    this.longPoll(ts);\r\n                }\r\n                else {\r\n                    console.log('LongPollUpdated');\r\n                    let nums = e.data.map(el => el.ts);\r\n                    this.longPoll(Math.max.apply(Math, nums));\r\n                }\r\n            }\r\n            \r\n            if(newMsgsEvent)\r\n            {            \r\n                this.setState({\r\n                    msgs : newMsgsEvent.content.filter(e => e.cid == this.state.currentChat)\r\n                });\r\n\r\n                this.notifications(newMsgsEvent);\r\n            }\r\n\r\n            if(chatWriteEvent)\r\n            {\r\n                let currentChatWriters = chatWriteEvent.content.filter(e => e.cid == this.state.currentChat).map(e => e.members);\r\n                currentChatWriters = currentChatWriters[currentChatWriters.length - 1];\r\n                \r\n                this.changeWriters(currentChatWriters);\r\n            }\r\n            if(newTeamMembersEvent)\r\n            {\r\n                this.componentDidMount(false);\r\n            }\r\n\r\n        }).catch((e) => {\r\n            console.log('longPollError');\r\n            console.log(e);\r\n        });\r\n    }\r\n\r\n    changeWriters(writers) {\r\n\r\n        writers = writers.filter(e => e != this.state.me._id);\r\n        writers = writers.map(e => this.findUserByid(e)).map(e => e.name);\r\n        let div = document.getElementById('writers');\r\n        if(writers.length == 0)\r\n        {         \r\n            div.classList.add('opacity-0');\r\n        }\r\n        else\r\n        {\r\n            let str = writers.join(', ');\r\n            if(str.length > 15)\r\n                str = str.slice(0,15) + '...';\r\n\r\n            this.setState({\r\n                writers : str\r\n            })\r\n            div.classList.remove('opacity-0');\r\n        }\r\n    }\r\n\r\n    notifications(e) {\r\n        try {\r\n            \r\n            let cids = e.content.map(m => m.cid);\r\n            let chats = cids.map(c => this.findChatByid(c));\r\n\r\n            console.log('Do Notifications!');\r\n\r\n            let s = {};\r\n            for(let i = 0; i < e.content.length; ++i)\r\n            {\r\n                if(e.content[i].cid == this.state.currentChat)\r\n                    continue;\r\n                \r\n                if(!s['cidal' + e.content[i].cid])\r\n                    s['cidal' + e.content[i].cid] = 1;\r\n                else\r\n                    s['cidal' + e.content[i].cid]++;\r\n            }\r\n            let k = 0;\r\n            for(let param in s)\r\n            {\r\n                let num = document.getElementById(param).innerHTML;\r\n                document.getElementById(param).innerHTML = parseInt(num) + s[param];\r\n                document.getElementById(param).classList.remove('template');\r\n            \r\n                k++;\r\n            }\r\n\r\n            if(k != 0)\r\n            {\r\n                let audio = new Audio('/effects/click.mp3');\r\n                audio.play();\r\n                \r\n                let j = -1;\r\n                let b = ['NEW','MESSAGE'];\r\n\r\n                clearInterval(this.state.msgInterval);\r\n                let iid = setInterval(() => {\r\n                    j++;\r\n                    j = j % 2;\r\n                    document.title = b[j];\r\n                },1000);\r\n\r\n                this.setState({\r\n                    msgInterval : iid\r\n                })\r\n            }\r\n\r\n\r\n        }\r\n        catch(v)\r\n        {\r\n            console.log(v);\r\n        }\r\n    }\r\n\r\n    chatPanel() {\r\n        return (\r\n            <div className=\"chat-panel\">\r\n                <div className=\"chat-list\">\r\n                    <div className=\"chat-list-title\">Chats</div>\r\n                    <div className=\"chat-list-items\">\r\n                        {this.state.chats.chats.map(e => this.littleChat(e))}\r\n                    </div>\r\n                </div>\r\n                <div className=\"member-list\">\r\n                    <div className=\"member-list-title\">Members</div>\r\n                    <div className=\"member-list-items\">\r\n                        {this.state.chats.members.map(e => this.littleMember(e))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    textChangeMonitor(e) {\r\n            \r\n        let input = document.getElementById('msg');\r\n\r\n        let text = e.target.innerText;\r\n        text = text.replace(/<br>/gi,' ');\r\n        text = text.replace(/&nbsp;/g,' ');\r\n        input.value = text;\r\n\r\n        if(this.state.currentChat == '' || !this.state.currentExist)\r\n            return;\r\n\r\n        if(!this.state.write && !help.isEmptyOrSpaces(input.value))\r\n        {\r\n            console.log('STARTWrite');\r\n            axios.post('/api/chat/writing',{\r\n                id : this.state.currentChat,\r\n                state : true\r\n            });\r\n            this.state.write = true;\r\n        }\r\n        else if(help.isEmptyOrSpaces(input.value))\r\n        {\r\n            console.log('StopWrite');\r\n            axios.post('/api/chat/writing',{\r\n                id : this.state.currentChat,\r\n                state : false\r\n            });\r\n            this.state.write = false;\r\n        }\r\n    }   \r\n\r\n    focuseGotMonitor(e) {\r\n\r\n        if(this.state.currentChat == '' || !this.state.currentExist)\r\n            return;\r\n\r\n        let input = document.getElementById('msg');\r\n\r\n        if(!help.isEmptyOrSpaces(input.value))\r\n        {\r\n            console.log('STARTWrite');\r\n            axios.post('/api/chat/writing',{\r\n                id : this.state.currentChat,\r\n                state : true\r\n            });\r\n            this.state.write = true;\r\n        }\r\n    }\r\n\r\n    focuseLostMonitor(e) {\r\n\r\n        if(this.state.currentChat == '' || !this.state.currentExist)\r\n            return;\r\n\r\n        if(this.state.write)\r\n        {\r\n            console.log('StopWrite');\r\n            axios.post('/api/chat/writing',{\r\n                id : this.state.currentChat,\r\n                state : false\r\n            });\r\n            this.state.write = false;\r\n        }\r\n    }\r\n\r\n    mapEmoji(m) {\r\n        let path = \"/emoji/svg/\" + m;\r\n        return (\r\n            <img className=\"emoji-small\" onClick={() => {this.pushEmoji(m)}} src={path}></img>\r\n        )\r\n    }\r\n\r\n    pushEmoji(m) {\r\n        let path = \"/emoji/svg/\" + m;\r\n        let fake = document.getElementById('fake_msg');\r\n        fake.innerHTML += `<span class=\"fake-text\">::${m};</span><img class=\"emoji-small-text\" src=\"${path}\" ></img>`;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"big standart-back relative\">\r\n                <div className=\"chat-panel-loader delay\" id=\"chatLoader\">\r\n                    <div className=\"loader\"></div>\r\n                </div>\r\n                {this.chatPanel()}\r\n                <div className=\"right-box relative\">\r\n                    <div className=\"message-panel-big\" id=\"messagePanel\">\r\n                        <MessagePanel newMsg={this.state.msgs} me={this.state.me} findUser={this.findUserByid} id={this.state.currentChat} exists={this.state.currentExist}/>\r\n                        <div id=\"writers\" className=\"message-panel-writers delay opacity-0\"><b>{this.state.writers}</b> набирает сообщение... </div>\r\n                    </div>\r\n                    <div className=\"send-panel\">\r\n                        <div className=\"send-input relative\">\r\n                            <input \r\n                                id=\"msg\" \r\n                                type=\"text\" \r\n                                autoComplete=\"off\" \r\n                                name=\"msgbox\" \r\n                                placeholder=\"Сообщение...\" />\r\n                            <div\r\n                            \r\n                                data-text=\"Enter text here\"\r\n                            \r\n                                onInput={(e) => this.textChangeMonitor(e)} \r\n                                onFocus={(e) => this.focuseGotMonitor(e)} \r\n                                onKeyUp={(e) => { if(e.key == 'Enter') this.send(); }}\r\n                                onBlur={(e) => this.focuseLostMonitor(e)}\r\n\r\n                                className=\"send-input-div\"\r\n                                contentEditable=\"true\"\r\n                                id=\"fake_msg\" \r\n                                type=\"text\" \r\n                                autoComplete=\"off\" \r\n                             />\r\n                            <div \r\n                                className=\"emoji-button\" \r\n                                id=\"emojiButton\"\r\n                            >\r\n                                <div className=\"emoji-image\" ></div>\r\n                                <div \r\n                                    id=\"emojiPanel\" \r\n                                    className=\"emoji-panel delay t-delay\"\r\n                                 >\r\n                                    {this.state.emoji.map(m => this.mapEmoji(m))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div onClick={((e) => {\r\n                                this.textChangeMonitor({target : document.getElementById('fake_msg')});\r\n                                this.send();\r\n                                })} className=\"send-button\" id=\"send\">\r\n                                <div className=\"send-image\"></div>\r\n                            </div>\r\n                            <div className=\"attach-button\" id=\"attach\">\r\n                                <div className=\"attach-image\"></div>\r\n                                <div className=\"attach-panel delay t-delay\">\r\n                                    <ul>\r\n                                        <li>Post</li>\r\n                                        <li>DickPic</li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Chat;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nconst axios = require('axios');\r\nconst help = require('./utils/help');\r\n\r\nclass Login extends React.Component {\r\n    constructor(prop) {\r\n        super(prop);\r\n\r\n        this.state = {}\r\n        this.state.itloginStyle = '';\r\n        this.state.itpasswordStyle = '';\r\n\r\n    }\r\n\r\n    signIn() {\r\n        let data = help.validate(document, ['itlogin','itpassword']);\r\n\r\n        console.log(data);\r\n\r\n        if(data.errors.length === 0)\r\n        {\r\n\r\n            axios.post('/login',{\r\n                username : data.itlogin,\r\n                password : data.itpassword\r\n            }).then((e) => {\r\n\r\n                console.log('Success!');\r\n                console.log(e);\r\n                document.cookie = `token=${e.data.token}; expires=Tue, 19 Jan 2038 03:14:07 GMT`;\r\n                window.location.reload(true);\r\n            }).catch(() => {\r\n                document.getElementById('resInfo').innerHTML = \"Неверный логин/пароль\";\r\n            })\r\n        }\r\n        else\r\n        {\r\n            for(let i = 0; i < data.errors.length; ++i)\r\n            {\r\n                this.setState({[data.errors[i]+'Style'] : 'mistake'});\r\n            }\r\n        }\r\n    }\r\n\r\n    reset(e) {\r\n        this.setState({[e.target.id + 'Style'] : ''});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div>\r\n            <div className=\"back\" id=\"pjs\"></div>\r\n            <div className=\"main\" id=\"main\">\r\n                <div className=\"center\">\r\n                    <div className=\"middle\">\r\n                        <div className=\"box\">\r\n                            <div className=\"logo\">\r\n                                <div className=\"top\">ITMM</div>\r\n                                <div className=\"bot\"><span>PULSE</span></div>\r\n                            </div>\r\n                            <div className=\"form\">\r\n                                <input id=\"itlogin\" onChange={(e) => {this.reset(e)}} className={this.state.itloginStyle} type=\"text\" name=\"itlogin\" placeholder=\"Login\" />\r\n                                <input id=\"itpassword\" onChange={(e) => {this.reset(e)}} className={this.state.itpasswordStyle} type=\"password\" name=\"itpassword\" placeholder=\"Password\" />\r\n                                <div className=\"reg-info red-color\" id=\"resInfo\"></div>\r\n                                <div onClick={() => this.signIn()} className=\"button submit\" id=\"sin\">sign in</div>\r\n                                <div onClick={() => {this.props.toReg()}} className=\"button small\" id=\"cos\">sign up</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default Login;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './style.css';\r\n\r\nclass Load extends React.Component {\r\n    constructor(prop) {\r\n        super(prop);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div>\r\n            <div className=\"back\" id=\"pjs\"></div>\r\n            <div className=\"main\" id=\"main\">\r\n                <div className=\"center\">\r\n                    <div className=\"middle\">\r\n                        <div className=\"box\">\r\n                            <div className=\"logo\">\r\n                                <div className=\"top\">ITMM</div>\r\n                                <div className=\"bot\"><span>PULSE</span></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Load;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nconst axios = require('axios');\r\nconst help = require('./utils/help');\r\n\r\nclass Register extends React.Component {\r\n    constructor(prop) {\r\n        super(prop);\r\n        this.state = {\r\n            class : {\r\n                name : '',\r\n                user : '',\r\n                pw1 : '',\r\n                pw2 : ''\r\n            },\r\n\r\n            info : 'green-color',\r\n            msg : ''\r\n        };\r\n    }\r\n\r\n    register() {\r\n\r\n        let data = help.validate(document,['name','login','pw1','pw2']);\r\n        \r\n        if(data.errors.length !== 0)\r\n        {\r\n            let newStyle = {\r\n                name : '',\r\n                login : '',\r\n                pw1 : '',\r\n                pw2 : ''\r\n            };\r\n            for(let i = 0; i < data.errors.length; ++i)\r\n            {\r\n                newStyle[data.errors[i]] = 'mistake';\r\n            }\r\n\r\n            this.setState({\r\n                class : newStyle\r\n            })\r\n        }\r\n        else\r\n        {\r\n            let pw1 = help.val(document,'pw1');\r\n            let pw2 = help.val(document,'pw2');\r\n\r\n            console.log(pw1);\r\n\r\n            if(pw1 != pw2)\r\n            {\r\n                let styles = this.state.class;\r\n                styles.pw1 = 'mistake';\r\n                styles.pw2 = 'mistake';\r\n                this.setState({ class : styles});\r\n            }\r\n            else\r\n            {\r\n                axios.post('/register',{\r\n                    name : data.name,\r\n                    username : data.login,\r\n                    password : data.pw1\r\n                }).then(() => {\r\n                    this.setState({\r\n                        info : 'green-color',\r\n                        msg : 'Успешно!'\r\n                    })\r\n                }).catch(() => {\r\n                    this.setState({\r\n                        info : 'red-color',\r\n                        msg : 'Что-то пошло не так. Скорее всего такое имя уже знято'\r\n                    })\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    noColor(e) {\r\n        let styles = this.state.class;\r\n        styles[e.target.id] = \"\";\r\n        this.setState({ class : styles});\r\n\r\n        console.log(this.state);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div>\r\n            <div className=\"back\" id=\"pjs\"></div>\r\n            <div className=\"main\" id=\"main\">\r\n                <div className=\"fix-header\">\r\n                    <a className=\"small-logo\" onClick={() => {this.props.toLogin();}}>ITMM<span>PULSE</span></a>\r\n                </div>\r\n                <div className=\"center big-width f-height\">\r\n                    <div className=\"middle\">\r\n                        <div className=\"box big-width text-center\">\r\n                            <div className=\"info-part\">\r\n                                <h1>Hello!</h1>\r\n                                <p>\r\n                                    Привет!\r\n                                    <b>Большое</b> <i>спасибо</i>, что принимаешь участие в <b>EARLY-ALPHA</b> тесте нашего приложения.\r\n                                    Это один из самых ранних билдов, и он полон ошибок.\r\n                                    Для того, чтоб отладить работу и сделать приложение максимально удобным\r\n                                    нам нужна <i>твоя</i> помощь. \r\n                                </p>\r\n                            </div>\r\n                            <div className=\"form-part form\">\r\n                                <input id=\"name\" onChange={(e) => this.noColor(e)} className={this.state.class.name} type=\"text\" name=\"itname\" placeholder=\"name\" />\r\n                                <input id=\"login\" onChange={(e) => this.noColor(e)} className={this.state.class.login} type=\"text\" name=\"ituser\" placeholder=\"login\" />\r\n                                <input id=\"pw1\" onChange={(e) => this.noColor(e)} className={this.state.class.pw1} type=\"password\" name=\"itpass1\" placeholder=\"password\" />\r\n                                <input id=\"pw2\" onChange={(e) => this.noColor(e)} className={this.state.class.pw2} type=\"password\" name=\"itpass2\" placeholder=\"password again\" />\r\n\r\n                                <div className={\"reg-info \" + this.state.info} id=\"resInfo\">{this.state.msg}</div>\r\n                                <div className=\"button submit\" onClick={() => {this.register()}} id=\"reg\">sign up</div>\r\n                                <div className=\"button small\" onClick={() => {this.props.toLogin();}}>login page</div>\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"fix-footer\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass Overlay extends React.Component {\r\n    constructor(prop) {\r\n        super(prop);\r\n\r\n        this.state = {}\r\n        this.state.modeStyle = 'ov-hidden';\r\n        this.state.alertStyle = 'al-down';\r\n\r\n        this.state.msg = '';\r\n        this.state.ok = '';\r\n        this.state.okAction = () => {};\r\n        this.state.cancelAction = () => {};\r\n    }\r\n\r\n    dismiss() {\r\n        this.setState({\r\n            modeStyle : 'ov-hidden',\r\n            alertStyle : 'al-down'\r\n        })\r\n\r\n        this.state.cancelAction();\r\n    }\r\n\r\n    rise(data) {\r\n        this.setState({\r\n            msg : data.msg,\r\n            ok : data.ok,\r\n            okAction : data.okAction,\r\n            cancelAction : data.cancelAction,\r\n\r\n            modeStyle : '',\r\n            alertStyle : ''\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={'up-overlay ' + this.state.modeStyle} id=\"overlay\">\r\n                <div className=\"overlay-back\" onClick={() => {this.dismiss()}}></div>\r\n                <div className={'alert ' + this.state.alertStyle} id=\"alert\">\r\n                    <div className=\"alert-content\" id=\"acontent\">{this.state.msg}</div>\r\n                    <div className=\"alert-buttons\">\r\n                        <div className=\"button small\" onClick={() => {this.dismiss()}} id=\"acancel\">назад</div>\r\n                        <div className=\"button submit\" onClick={() => {this.state.okAction()}} id=\"aok\">{this.state.ok}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Overlay;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass InProgress extends React.Component {\r\n    constructor(prop) {\r\n        super(prop);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"big flex-center standart-back\">\r\n                <div className=\"box\">\r\n                    <div className=\"excuse-logo\"></div>\r\n                    <div className=\"excuse-msg\"> Данная страница в <i>активной</i> стадии разработки Поэтому она пока что <b>недоступна :( </b></div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default InProgress;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nconst help = require('../../../utils/help');\r\n\r\nclass MessageItem extends React.Component {\r\n    constructor(prop) {\r\n        super(prop);\r\n\r\n        this.state = {}\r\n    }\r\n\r\n    componentDidMount() {\r\n        let msg = document.getElementById('mid' + this.props.data._id);\r\n        setTimeout(() => {\r\n            msg.classList.remove('left-offset');\r\n            msg.classList.remove('opacity-0');\r\n        },20)\r\n    }\r\n\r\n    render() {\r\n        let data = this.props.data;\r\n\r\n        let emoji = data.msg.match(/::(.*?);/g);\r\n\r\n        if(emoji)\r\n        {\r\n            for(let i = 0; i < emoji.length; ++i)\r\n            {\r\n                let path = '/emoji/svg/';\r\n                path += emoji[i].slice(2,emoji[i].length - 1);\r\n                data.msg = data.msg.replace(emoji[i],\r\n                    `<img class=\"emoji-small-text\" src=\"${path}\" />`);\r\n            }\r\n        } \r\n\r\n        if(this.props.me == false) {\r\n            let className = \"message-item\";\r\n            if(data.anim) \r\n                className += \" left-offset easy-delay opacity-0\";\r\n\r\n            return (\r\n                <div className={className} id={'mid' + data._id}>\r\n                    <div style={{background : data.color}} className=\"message-item-avatar\">{data.from.toUpperCase()[0]}</div>\r\n                    <div className=\"message-item-content\">\r\n                        <div className=\"message-item-owner\">{data.from}</div>\r\n                        <div className=\"message-item-msg\" dangerouslySetInnerHTML={{__html: data.msg}}></div>\r\n                        <div className=\"message-item-date\">{help.time(data.date)}</div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            let className = \"message-item msg-me\";\r\n            if(data.anim)\r\n                className += \" left-offset easy-delay opacity-0\";\r\n\r\n            return (\r\n                <div className={className}  id={'mid' + data._id}>\r\n                    <div className=\"me-avatar-fix\">\r\n                        <div style={{background : data.color}}  className=\"message-item-avatar\">{data.from.toUpperCase()[0]}</div>\r\n                    </div>\r\n                    <div className=\"message-item-content\">\r\n                        <div className=\"message-item-owner\">{data.from}</div>\r\n                        <div className=\"message-item-msg\" dangerouslySetInnerHTML={{__html: data.msg}}></div>\r\n                        <div className=\"message-item-date\">{help.time(data.date)}</div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default MessageItem;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport MessageItem from './bricks/message';\r\n\r\nconst axios = require('axios');\r\nconst help = require('../../utils/help');\r\n\r\n\r\n\r\nclass MessagePanel extends React.Component {\r\n\r\n    constructor(prop) {\r\n        super(prop);\r\n\r\n        this.state = {}\r\n        this.state.messages = [];\r\n\r\n        this.state.clicks = 0;\r\n\r\n        this.componentDidUpdate = this.componentDidUpdate.bind(this);\r\n        this.getHistory = this.getHistory.bind(this);\r\n        this.messageArray = this.messageArray.bind(this);\r\n\r\n        this.state.rescroll = true;\r\n        this.state.full = true;\r\n\r\n        this.state.topdiff = 0;\r\n\r\n    }\r\n\r\n    notSelected() {\r\n        return (\r\n            <div className=\"no-selected-chat\"> Чтоб <b>начать</b> выбери чат из списка <i>слева</i></div>\r\n        );\r\n    }\r\n\r\n    noMessages() {\r\n        return (\r\n            <div className=\"no-messages\">\r\n                <div className=\"no-messages-logo\"></div>\r\n                <div className=\"no-messages-content\">\r\n                    Кажется тут еще <b>нет</b> сообщений. Напиши <i>первое</i>!\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    aLotOfMessages() {\r\n\r\n        return (\r\n            <div>\r\n                <div id=\"messageLoader\" className=\"message-panel-loader\">\r\n                    <div className=\"loader\"></div>\r\n                </div>\r\n                <div className=\"message-panel\" onScroll={(e) => {this.scrollHandler(e)}} id=\"messagePanel2\">\r\n                    <div className=\"message-top-loading\" id=\"historyLoader\">\r\n                        <div className=\"loader\"></div>\r\n                    </div>\r\n                    <div className=\"message-list\">\r\n                        {this.messageArray(this.state.messages)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    messageArray(msgs) {\r\n\r\n        if(msgs.length == 0)\r\n            return;\r\n\r\n        let datestr = help.timeDate(msgs[0].date);\r\n        let components = [];\r\n\r\n        components.push(this.dateStringComponent(datestr));\r\n\r\n        let laststr = datestr;\r\n        for(let i = 0; i < msgs.length; ++i)\r\n        {\r\n            datestr = help.timeDate(msgs[i].date);\r\n            if(datestr != laststr)\r\n            {\r\n                components.push(this.dateStringComponent(datestr));\r\n            }\r\n\r\n            components.push(this.message(msgs[i]));\r\n            laststr = datestr;\r\n        }\r\n\r\n        return components;\r\n    }\r\n\r\n    dateStringComponent(str) {\r\n        return (\r\n            <div key={str} className=\"message-date-string relative\">\r\n                <div className=\"message-line \"></div>\r\n                <div className=\"message-date-string-content\">{str}</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    message(data) {\r\n\r\n        let user = this.props.findUser(data.uid);\r\n        data.from = user.name;\r\n        data.color = user.color;\r\n        \r\n        if(data.uid !== this.props.me._id)\r\n        {\r\n            return <MessageItem data={data} me={false} key={data._id} />\r\n        }  \r\n        else\r\n        {\r\n            return <MessageItem data={data} me={true} key={data._id} />\r\n        }\r\n            \r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        if(prevProps.id != this.props.id && this.props.exists) {\r\n\r\n            let loader = document.getElementById('messageLoader');\r\n            loader.classList.remove('opacity-0');\r\n            loader.classList.remove('display-none');\r\n\r\n            setTimeout(() => {\r\n                loader.classList.add('delay');\r\n            },10)\r\n\r\n            this.state.clicks++;\r\n\r\n            this.state.full = true;\r\n            this.state.messages = [];\r\n            this.getHistory(true);\r\n            this.state.rescroll = true;\r\n            \r\n        }\r\n        else if(prevProps.newMsg != this.props.newMsg)\r\n        {\r\n            let msgs = this.state.messages;\r\n\r\n            let news = this.props.newMsg.map(m => { return { ...m, anim : true}});;\r\n            msgs = msgs.concat(news);\r\n\r\n            let mids = msgs.map(m => m._id);\r\n            msgs = msgs.filter((e,i) => mids.indexOf(e._id) === i );\r\n\r\n            this.state.rescroll = true;\r\n\r\n            this.setState({\r\n                messages : msgs\r\n            })            \r\n\r\n        } else {\r\n        \r\n            console.log('RESIZE?');\r\n            let objDiv = document.getElementById(\"messagePanel2\");\r\n\r\n            if(objDiv)\r\n            {\r\n                if(this.state.rescroll)\r\n                    objDiv.scrollTop = objDiv.scrollHeight;\r\n                else\r\n                    objDiv.scrollTop = objDiv.scrollHeight - this.state.topdiff;\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        console.log('Message panel unmount');\r\n    }\r\n\r\n    getHistory(watch = false) {\r\n\r\n        document.getElementById('historyLoader').classList.remove('opacity-0');\r\n\r\n        axios.post('/api/message/history',{\r\n            id : this.props.id,\r\n            limit : 20,\r\n            skip : this.state.messages.length\r\n        }).then((e) => {\r\n\r\n            let loader = document.getElementById('messageLoader');\r\n\r\n            let objDiv = document.getElementById(\"messagePanel2\");\r\n\r\n            if(objDiv)\r\n                this.state.rescroll = objDiv.scrollHeight - objDiv.scrollTop === objDiv.clientHeight;\r\n\r\n            e.data.reverse();\r\n\r\n            let msgs = this.state.messages;\r\n\r\n            msgs = e.data.concat(msgs);\r\n            let mids = msgs.map(m => m._id);\r\n            msgs = msgs.filter((e,i) => mids.indexOf(e._id) === i );\r\n\r\n            if(e.data.length < 20) {\r\n                document.getElementById('historyLoader').classList.add('opacity-0');\r\n                this.state.full = true;\r\n            }\r\n            else\r\n            {\r\n                this.state.full = false;\r\n            }\r\n\r\n            if(objDiv)\r\n                this.state.topdiff = objDiv.scrollHeight - objDiv.scrollTop;\r\n            console.log(this.state.messages.length);\r\n\r\n            this.setState({\r\n                messages : msgs\r\n            })\r\n\r\n\r\n\r\n            if(watch) {\r\n                this.state.clicks--;\r\n                if(this.state.clicks === 0) {\r\n                    loader.classList.add('opacity-0');\r\n                    setTimeout(() => {\r\n                        if(this.state.clicks === 0) {\r\n                            loader.classList.add('display-none');      \r\n                            loader.classList.remove('delay');  \r\n                        }  \r\n                    },200);\r\n                }\r\n            }\r\n\r\n        }).catch((e) => {\r\n            console.log('WTF');\r\n            console.log(e);\r\n        });\r\n    }\r\n\r\n    scrollHandler(e) {\r\n\r\n        let element = e.target;\r\n\r\n        if(element.scrollTop == 0 && !this.state.full)\r\n        {\r\n            console.log('GOT HISTORY');\r\n            this.getHistory();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        \r\n        if(this.props.id === '')\r\n            return this.notSelected();\r\n        else if(!this.props.exists)\r\n            return this.noMessages();\r\n        else {\r\n            return this.aLotOfMessages();\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default MessagePanel;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport Overlay from './pages/components/overlay';\r\nimport InProgress from './pages/progress';\r\nimport Chat from './pages/chat';\r\n\r\nimport './page.css';\r\n\r\nconst axios = require('axios');\r\nconst help = require('./utils/help');\r\n\r\nclass Page extends React.Component {\r\n    constructor(prop) {\r\n        super(prop);\r\n\r\n        this.state = {}\r\n        this.state.currentPage = null;\r\n        this.state.currentButton = '';        \r\n\r\n        this.pages = {};\r\n        this.pages['mp'] = <InProgress />; \r\n        this.pages['np'] = <InProgress />;\r\n        this.pages['tp'] = <InProgress />;\r\n        this.pages['cp'] = <Chat />;\r\n\r\n        this.hideAlert = this.hideAlert.bind(this);\r\n\r\n        this.overlay = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        let page = help.getCookie('page')\r\n        if(page)\r\n            this.menuButtonClicked({ currentTarget : {id : page}});\r\n    }\r\n\r\n    logOut() {\r\n        axios.post('/logout')\r\n            .then(() => {\r\n                window.location.reload(true);\r\n            })\r\n            .catch((e) => {\r\n                console.log('WTF');\r\n                console.log(e);\r\n            })\r\n    }\r\n\r\n    hideAlert() {\r\n\r\n    }\r\n\r\n    riseLogOutAlert() {\r\n        this.overlay.current.rise({\r\n            msg : \"Выйти?\", \r\n            ok : \"Выход\",\r\n            okAction : this.logOut,\r\n            cancelAction:this.hideAlert\r\n        });\r\n    }\r\n\r\n    menuButtonClicked(e) {\r\n\r\n        let pageId = e.currentTarget.id;\r\n        if(this.state.currentButton == pageId)\r\n        {\r\n            return;\r\n        }\r\n\r\n        let content = document.getElementById('content');\r\n        content.classList.add('central-panel-offset');\r\n        content.classList.add('central-panel-invis');\r\n\r\n        \r\n        this.setState({\r\n            currentPage : this.pages[pageId]\r\n        })\r\n\r\n        setTimeout(() => {\r\n            content.classList.add('central-panel-shadow');\r\n            content.classList.add('central-panel-transition');\r\n            content.classList.remove('central-panel-offset');\r\n            content.classList.remove('central-panel-invis');\r\n        },10)\r\n\r\n        setTimeout(() => {\r\n\r\n            content.classList.remove('central-panel-transition');\r\n            content.classList.remove('central-panel-shadow');\r\n        }, 340);\r\n\r\n        if(document.getElementById(this.state.currentButton))\r\n            document.getElementById(this.state.currentButton).removeAttribute('selected');\r\n        this.state.currentButton = pageId;\r\n        document.cookie = `page=${pageId}; expires=Tue, 19 Jan 2038 03:14:07 GMT`;\r\n        document.getElementById(this.state.currentButton).setAttribute('selected', 'selected');;\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div>\r\n            <Overlay ref={this.overlay} />\r\n            <div className=\"back\"></div>\r\n            <div className=\"main\">\r\n                <div className=\"top-panel\"></div>\r\n                <div className=\"left-panel\">\r\n                    <div className=\"left-panel-top\">\r\n                        <div className=\"mbutton\" id=\"mp\" onClick={(e) => {this.menuButtonClicked(e)}} selected=\"selected\">\r\n                            <div className=\"main-button\"> </div>\r\n                        </div>\r\n                        <div className=\"mbutton\" id=\"np\" onClick={(e) => {this.menuButtonClicked(e)}}>\r\n                            <div className=\"news-image\"></div>\r\n                        </div>\r\n                        <div className=\"mbutton\" id=\"tp\" onClick={(e) => {this.menuButtonClicked(e)}}>\r\n                            <div className=\"table-image\"></div>\r\n                        </div>\r\n                        <div className=\"mbutton\" id=\"cp\" onClick={(e) => {this.menuButtonClicked(e)}}>\r\n                            <div className=\"chat-image\"></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"left-panel-bottom\">\r\n                        <div onClick={(e) => {this.riseLogOutAlert()}} className=\"mbutton\" id=\"logout\">\r\n                            <div className=\"logout-image\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"central-panel\" id=\"content\">\r\n                    {this.state.currentPage}\r\n                </div>\r\n            </div>\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default Page;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport Login from './login';\r\nimport Load from './load';\r\nimport Register from './register';\r\nimport Page from './page';\r\n\r\nimport './style.css';\r\n\r\nconst axios = require('axios');\r\nconst help = require('./utils/help');\r\n\r\nclass App extends React.Component {\r\n    constructor(prop) {\r\n        super(prop);\r\n\r\n        this.state = {\r\n            current : (<Load />)\r\n        }\r\n\r\n        this.goToLogin = this.goToLogin.bind(this);\r\n        this.goToPage = this.goToPage.bind(this);\r\n        this.goToRegister = this.goToRegister.bind(this);\r\n    }\r\n\r\n    amISignedIn() {\r\n        let token = help.getCookie('token');\r\n        if(!help.isEmptyOrSpaces(token))\r\n        {\r\n            axios.post('/api/message/test')\r\n                .then((data) => {\r\n                    console.log(data);\r\n                    if(data.data === 'MESSAGE')\r\n                    {\r\n                        this.goToPage();\r\n                    }\r\n                    else\r\n                    {\r\n                        //WTF?\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    this.goToLogin();\r\n                });\r\n        }\r\n        else\r\n        {\r\n            this.goToLogin();\r\n        }\r\n    }\r\n\r\n    goToLogin() {\r\n        let state = this.state;\r\n        state.current = <Login toReg={this.goToRegister} toPage={this.goToPage} />\r\n        this.setState(state);\r\n    }\r\n\r\n    goToRegister() {\r\n        let state = this.state;\r\n        state.current = <Register toLogin={this.goToLogin} />\r\n        this.setState(state);\r\n    }\r\n\r\n    goToPage() {\r\n        let state = this.state;\r\n        state.current = <Page />\r\n        this.setState(state);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.amISignedIn();\r\n    }\r\n\r\n    render() {\r\n        return (<div>{this.state.current}</div>);\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","\r\nfunction getCookie(name) {\r\n\tlet matches = document.cookie.match(new RegExp(\r\n\t\t\"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n\t));\r\n\treturn matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\n\r\nfunction isEmptyOrSpaces(str) {\r\n\treturn str === undefined || str === null || str.match(/^ *$/) !== null;\r\n}\r\n\r\nfunction validate(document, ids) {\r\n\tlet data = {};\r\n\tdata.errors = [];\r\n\tfor (let i = 0; i < ids.length; ++i) {\r\n\t\tlet input = document.getElementById(ids[i]);\r\n\t\tlet val = input.value;\r\n\r\n\t\tif (isEmptyOrSpaces(val))\r\n\t\t\tdata.errors.push(ids[i]);\r\n\t\telse\r\n\t\t\tdata[ids[i]] = val;\r\n\t}\r\n\r\n\treturn data;\r\n}\r\n\r\nfunction val(document, id) {\r\n\treturn document.getElementById(id).value;\r\n}\r\n\r\nfunction time(utc) {\r\n\tlet date = new Date(utc - ((new Date()).getTimezoneOffset()) * 60 * 1000);\r\n\r\n\tlet hh = date.getHours();\r\n\tlet ss = date.getMinutes();\r\n\r\n\tlet hhString = Math.floor(hh / 10) + \"\" + Math.floor(hh % 10);\r\n\tlet ssString = Math.floor(ss / 10) + \"\" + Math.floor(ss % 10);\r\n\r\n\treturn hhString + ':' + ssString;\r\n\r\n}\r\n\r\nfunction timeDate(utc) {\r\n\tlet date = new Date(utc - ((new Date()).getTimezoneOffset()) * 60 * 1000);\r\n\r\n\tlet dd = date.getDay();\r\n\tlet mm = date.getMonth();\r\n\tlet yyyy = date.getFullYear();\r\n\r\n\tlet ddString = Math.floor(dd / 10) + \"\" + Math.floor(dd % 10);\r\n\tlet mmString = Math.floor(mm / 10) + \"\" + Math.floor(mm % 10);\r\n\r\n\treturn ddString + '.' + mmString + '.' + yyyy;\r\n}\r\n\r\nfunction toUTC(date) {\r\n\treturn (date.getTime() + date.getTimezoneOffset() * 60 * 1000);\r\n}\r\n\r\nmodule.exports = {\r\n\tgetCookie,\r\n\tisEmptyOrSpaces,\r\n\tvalidate,\r\n\tval,\r\n\ttime,\r\n\ttoUTC,\r\n\ttimeDate\r\n}"],"sourceRoot":""}